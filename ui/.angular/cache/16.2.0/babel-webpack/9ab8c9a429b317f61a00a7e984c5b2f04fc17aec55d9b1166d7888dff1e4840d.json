{"ast":null,"code":"var _class;\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/data.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"../floor/floor.component\";\nfunction SectionComponent_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 9);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const number_r2 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(number_r2);\n  }\n}\nfunction SectionComponent_ng_container_10_app_floor_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-floor\", 11);\n  }\n  if (rf & 2) {\n    const floor_r3 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵproperty(\"floor\", floor_r3);\n  }\n}\nfunction SectionComponent_ng_container_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, SectionComponent_ng_container_10_app_floor_1_Template, 1, 1, \"app-floor\", 10);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const floor_r3 = ctx.$implicit;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", floor_r3.nf_sectionid === ctx_r1.section.nf_sectionid);\n  }\n}\nexport class SectionComponent {\n  constructor(dataService) {\n    this.dataService = dataService;\n    this.floors = [];\n    this.numbersOnFloor = [];\n  }\n  ngOnInit() {\n    // this.dataService.downloadFloor().subscribe(floors => {\n    //   this.floors = floors\n    // }) \n  }\n  ngOnChanges() {\n    this.dataService.downloadFloor().subscribe(floors => {\n      this.floors = floors;\n    });\n    console.log(this.floors);\n    this.countNumbersOnFloor();\n  }\n  countNumbersOnFloor() {\n    let floors = this.floors.filter(f => f.nf_sectionid === this.sectionID);\n    for (let i = 0; i < floors[0].nf_maxnumberonfloor; i++) {\n      this.numbersOnFloor.push(i + 1);\n    }\n  }\n}\n_class = SectionComponent;\n_class.ɵfac = function SectionComponent_Factory(t) {\n  return new (t || _class)(i0.ɵɵdirectiveInject(i1.DataService));\n};\n_class.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: _class,\n  selectors: [[\"app-section\"]],\n  inputs: {\n    section: \"section\",\n    sectionID: \"sectionID\"\n  },\n  features: [i0.ɵɵNgOnChangesFeature],\n  decls: 11,\n  vars: 3,\n  consts: [[1, \"section\"], [1, \"head\"], [1, \"floor-description\"], [1, \"sub-head\"], [1, \"section-name\"], [1, \"sub-head2\"], [\"class\", \"number-on-floor\", 4, \"ngFor\", \"ngForOf\"], [1, \"floors\"], [4, \"ngFor\", \"ngForOf\"], [1, \"number-on-floor\"], [3, \"floor\", 4, \"ngIf\"], [3, \"floor\"]],\n  template: function SectionComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"p\", 2);\n      i0.ɵɵtext(3, \"\\u2116 \\u043D\\u0430 \\u044D\\u0442\\u0430\\u0436\\u0435 / \\u042D\\u0442\\u0430\\u0436\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"div\", 3)(5, \"p\", 4);\n      i0.ɵɵtext(6);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(7, \"div\", 5);\n      i0.ɵɵtemplate(8, SectionComponent_div_8_Template, 2, 1, \"div\", 6);\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(9, \"div\", 7);\n      i0.ɵɵtemplate(10, SectionComponent_ng_container_10_Template, 2, 1, \"ng-container\", 8);\n      i0.ɵɵelementEnd()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(6);\n      i0.ɵɵtextInterpolate(ctx.section.nf_name);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngForOf\", ctx.numbersOnFloor);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngForOf\", ctx.floors);\n    }\n  },\n  dependencies: [i2.NgForOf, i2.NgIf, i3.FloorComponent],\n  styles: [\".section[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-direction: column;\\n}\\n\\n.floors[_ngcontent-%COMP%] {\\n  width: 100%;\\n}\\n\\n.section-name[_ngcontent-%COMP%] {\\n  border: 1px solid rgb(206, 206, 206);\\n  margin: 0;\\n  padding-top: 2px;\\n  height: 50%;\\n}\\n\\n.head[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-direction: row;\\n  text-align: center;\\n}\\n\\n.floor-description[_ngcontent-%COMP%] {\\n  width: 86px;\\n  text-align: center;\\n  margin: 0px;\\n  padding: 5px 2px 5px 2px;\\n  border: 1px solid rgb(206, 206, 206);\\n}\\n\\n.sub-head[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-direction: column;\\n}\\n\\n.sub-head2[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-direction: row;\\n  height: 50%;\\n}\\n\\n.number-on-floor[_ngcontent-%COMP%] {\\n  width: 180px;\\n  border: 1px solid rgb(206, 206, 206);\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9kYXRhLWNvbXBvbmVudHMvc2VjdGlvbi9zZWN0aW9uLmNvbXBvbmVudC5zY3NzIiwid2VicGFjazovLy4vLi4vLi4vLi4vLi4vJUQwJTlGJUQxJTgwJUQwJUJFJUQwJUIzJUQxJTgwJUQwJUIwJUQwJUJDJUQwJUJDJUQwJUI4JUQxJTgwJUQwJUJFJUQwJUIyJUQwJUIwJUQwJUJEJUQwJUI4JUQwJUI1LyVEMCU5RSVEMCVCMSVEMSU4MyVEMSU4NyVEMCVCNSVEMCVCRCVEMCVCOCVEMCVCNS9Bbmd1bGFyL05pa2ZvcnQtVGVzdC1BcHAvc3JjL2FwcC9jb21wb25lbnRzL2RhdGEtY29tcG9uZW50cy9zZWN0aW9uL3NlY3Rpb24uY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxhQUFBO0VBQ0Esc0JBQUE7QUNDSjs7QURDQTtFQUNJLFdBQUE7QUNFSjs7QURBQTtFQUNJLG9DQUFBO0VBQ0EsU0FBQTtFQUNBLGdCQUFBO0VBQ0EsV0FBQTtBQ0dKOztBRERBO0VBQ0ksYUFBQTtFQUNBLG1CQUFBO0VBQ0Esa0JBQUE7QUNJSjs7QURGQTtFQUNJLFdBQUE7RUFDQSxrQkFBQTtFQUNBLFdBQUE7RUFDQSx3QkFBQTtFQUNBLG9DQUFBO0FDS0o7O0FESEE7RUFDSSxhQUFBO0VBQ0Esc0JBQUE7QUNNSjs7QURKQTtFQUNJLGFBQUE7RUFDQSxtQkFBQTtFQUNBLFdBQUE7QUNPSjs7QURMQTtFQUNJLFlBQUE7RUFDQSxvQ0FBQTtBQ1FKIiwic291cmNlc0NvbnRlbnQiOlsiLnNlY3Rpb24ge1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcbn1cclxuLmZsb29ycyB7XHJcbiAgICB3aWR0aDogMTAwJTtcclxufVxyXG4uc2VjdGlvbi1uYW1lIHtcclxuICAgIGJvcmRlcjogMXB4IHNvbGlkIHJnYigyMDYsIDIwNiwgMjA2KTtcclxuICAgIG1hcmdpbjogMDtcclxuICAgIHBhZGRpbmctdG9wOiAycHg7XHJcbiAgICBoZWlnaHQ6IDUwJTtcclxufVxyXG4uaGVhZCB7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgZmxleC1kaXJlY3Rpb246IHJvdztcclxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxufVxyXG4uZmxvb3ItZGVzY3JpcHRpb24ge1xyXG4gICAgd2lkdGg6IDg2cHg7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICBtYXJnaW46IDBweDtcclxuICAgIHBhZGRpbmc6IDVweCAycHggNXB4IDJweDtcclxuICAgIGJvcmRlcjogMXB4IHNvbGlkIHJnYigyMDYsIDIwNiwgMjA2KTtcclxufVxyXG4uc3ViLWhlYWQge1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcbn1cclxuLnN1Yi1oZWFkMiB7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgZmxleC1kaXJlY3Rpb246IHJvdztcclxuICAgIGhlaWdodDogNTAlO1xyXG59XHJcbi5udW1iZXItb24tZmxvb3Ige1xyXG4gICAgd2lkdGg6IDE4MHB4OyBcclxuICAgIGJvcmRlcjogMXB4IHNvbGlkIHJnYigyMDYsIDIwNiwgMjA2KTtcclxufVxyXG4iLCIuc2VjdGlvbiB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG59XG5cbi5mbG9vcnMge1xuICB3aWR0aDogMTAwJTtcbn1cblxuLnNlY3Rpb24tbmFtZSB7XG4gIGJvcmRlcjogMXB4IHNvbGlkIHJnYigyMDYsIDIwNiwgMjA2KTtcbiAgbWFyZ2luOiAwO1xuICBwYWRkaW5nLXRvcDogMnB4O1xuICBoZWlnaHQ6IDUwJTtcbn1cblxuLmhlYWQge1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LWRpcmVjdGlvbjogcm93O1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG59XG5cbi5mbG9vci1kZXNjcmlwdGlvbiB7XG4gIHdpZHRoOiA4NnB4O1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIG1hcmdpbjogMHB4O1xuICBwYWRkaW5nOiA1cHggMnB4IDVweCAycHg7XG4gIGJvcmRlcjogMXB4IHNvbGlkIHJnYigyMDYsIDIwNiwgMjA2KTtcbn1cblxuLnN1Yi1oZWFkIHtcbiAgZGlzcGxheTogZmxleDtcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbn1cblxuLnN1Yi1oZWFkMiB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtZGlyZWN0aW9uOiByb3c7XG4gIGhlaWdodDogNTAlO1xufVxuXG4ubnVtYmVyLW9uLWZsb29yIHtcbiAgd2lkdGg6IDE4MHB4O1xuICBib3JkZXI6IDFweCBzb2xpZCByZ2IoMjA2LCAyMDYsIDIwNik7XG59Il0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate","number_r2","ɵɵelement","ɵɵproperty","floor_r3","ɵɵelementContainerStart","ɵɵtemplate","SectionComponent_ng_container_10_app_floor_1_Template","ɵɵelementContainerEnd","nf_sectionid","ctx_r1","section","SectionComponent","constructor","dataService","floors","numbersOnFloor","ngOnInit","ngOnChanges","downloadFloor","subscribe","console","log","countNumbersOnFloor","filter","f","sectionID","i","nf_maxnumberonfloor","push","ɵɵdirectiveInject","i1","DataService","selectors","inputs","features","ɵɵNgOnChangesFeature","decls","vars","consts","template","SectionComponent_Template","rf","ctx","SectionComponent_div_8_Template","SectionComponent_ng_container_10_Template","nf_name"],"sources":["F:\\Программирование\\Обучение\\Angular\\Nikfort-Test-App\\src\\app\\components\\data-components\\section\\section.component.ts","F:\\Программирование\\Обучение\\Angular\\Nikfort-Test-App\\src\\app\\components\\data-components\\section\\section.component.html"],"sourcesContent":["import { DataService } from 'src/app/services/data.service';\nimport { Floor } from '../../../models/floor';\nimport { Section } from '../../../models/section';\nimport { Component, Input, OnChanges, OnInit } from '@angular/core';\nimport { nf_floor } from 'src/app/data/floors';\n\n@Component({\n  selector: 'app-section',\n  templateUrl: './section.component.html',\n  styleUrls: ['./section.component.scss']\n})\n\nexport class SectionComponent implements OnInit, OnChanges {\n\n  constructor(private dataService: DataService) {  \n  }\n  ngOnInit(): void {\n    // this.dataService.downloadFloor().subscribe(floors => {\n    //   this.floors = floors\n    // }) \n  }\n  \n  @Input() section: Section;\n  @Input() sectionID: string;\n  \n  floors: Floor[] = [];\n  \n  numbersOnFloor: number[] = [];\n\n  ngOnChanges() {\n\n    this.dataService.downloadFloor().subscribe(floors => {\n      this.floors = floors\n    }) \n\n    console.log(this.floors)\n\n    this.countNumbersOnFloor()\n  };\n  \n  countNumbersOnFloor(): void {\n    let floors = this.floors.filter(f => f.nf_sectionid === this.sectionID);\n    for (let i = 0; i < floors[0].nf_maxnumberonfloor; i++) {\n      this.numbersOnFloor.push(i + 1);\n    }\n  };\n}\n","<div class=\"section\">\n    <div class=\"head\">\n        <p class=\"floor-description\">№ на этаже / Этаж</p>\n        <div class=\"sub-head\">\n            <p class=\"section-name\">{{section.nf_name}}</p>\n            <div class=\"sub-head2\">\n                <div \n                    class=\"number-on-floor\"\n                    *ngFor=\"let number of numbersOnFloor\"\n                >{{number}}</div>\n            </div>\n        </div>\n    </div>    \n    <div class=\"floors\">\n        <ng-container *ngFor=\"let floor of floors\">\n            <app-floor \n                [floor]=\"floor\"\n                *ngIf=\"floor.nf_sectionid === section.nf_sectionid\"\n            ></app-floor>\n        </ng-container>\n    </div>\n</div>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}